<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>done?</title>
  <link rel="stylesheet" href="css/style.css">
</head>
<body>
  <!-- 1. 헤더 -->
  <header class="header">
    <div class="header-content">
      <h1 class="app-title">done?</h1>
      <div class="header-right">
        <div class="points-display">
          <span class="points-label">P</span>
          <span class="points-value" id="total-points">0</span>
        </div>
        <a href="admin.html" class="settings-btn" title="설정">⚙️</a>
      </div>
    </div>
  </header>

  <!-- 2. 탭 네비게이션 -->
  <nav class="tabs">
    <button class="tab active" data-tab="active">진행중</button>
    <button class="tab" data-tab="completed">완료</button>
  </nav>

  <!-- 3. 퀘스트 리스트 영역 -->
  <main class="quest-container">
    <!-- 진행중 탭 -->
    <div class="tab-content active" id="active-tab">
      <div class="quest-list" id="active-quest-list">
        <!-- 퀘스트 카드가 동적으로 추가됨 -->
      </div>
      <div class="empty-state" id="active-empty">
        <p>아직 등록된 퀘스트가 없어요</p>
        <p>+ 버튼을 눌러 퀘스트를 추가해보세요!</p>
      </div>
    </div>

    <!-- 완료 탭 -->
    <div class="tab-content" id="completed-tab">
      <!-- 날짜 피커 (가로 스크롤) -->
      <div class="date-picker-container">
        <div class="date-picker" id="date-picker">
          <!-- 날짜 버튼들이 동적으로 추가됨 -->
        </div>
      </div>

      <!-- 완료 퀘스트 갤러리 뷰 -->
      <div class="quest-gallery" id="quest-gallery">
        <!-- 이미지 갤러리가 동적으로 추가됨 -->
      </div>

      <!-- 기존 리스트 뷰 (선택사항으로 숨김 처리) -->
      <div class="quest-list hidden" id="completed-quest-list">
        <!-- 완료된 퀘스트 카드 -->
      </div>

      <div class="empty-state" id="completed-empty">
        <p>완료한 퀘스트가 없어요</p>
      </div>
    </div>
  </main>

  <!-- 4. 플로팅 추가 버튼 -->
  <button class="fab" id="add-quest-btn">
    <span class="fab-icon">+</span>
  </button>

  <!-- 5. 퀘스트 추가 모달 -->
  <div class="modal" id="add-quest-modal">
    <div class="modal-overlay"></div>
    <div class="modal-content">
      <div class="modal-header">
        <h2>새 퀘스트</h2>
        <button class="close-btn" id="add-modal-close">&times;</button>
      </div>
      <div class="modal-body">
        <div class="form-group">
          <label for="quest-title">퀘스트 이름</label>
          <input type="text" id="quest-title" maxlength="50"
                 placeholder="예: 운동 30분 하기">
          <span class="char-count"><span id="title-char-count">0</span>/50</span>
        </div>
        <div class="form-group">
          <label for="quest-points">포인트</label>
          <input type="number" id="quest-points"
                 min="10" max="1000" step="10" value="100">
        </div>
      </div>
      <div class="modal-footer">
        <button class="btn btn-cancel" id="add-cancel-btn">취소</button>
        <button class="btn btn-primary" id="add-submit-btn">추가</button>
      </div>
    </div>
  </div>

  <!-- 6. 완료 인증 모달 -->
  <div class="modal" id="complete-quest-modal">
    <div class="modal-overlay"></div>
    <div class="modal-content">
      <div class="modal-header">
        <h2>퀘스트 완료</h2>
        <button class="close-btn" id="complete-modal-close">&times;</button>
      </div>
      <div class="modal-body">
        <p class="quest-title-display" id="complete-quest-title">운동 30분 하기</p>
        <div class="image-upload">
          <input type="file" id="quest-image" accept="image/*">
          <label for="quest-image" class="upload-label">
            <span class="camera-icon">📷</span>
            <span>인증 사진 선택</span>
          </label>
          <div class="image-preview" id="image-preview"></div>
        </div>
      </div>
      <div class="modal-footer">
        <button class="btn btn-cancel" id="complete-cancel-btn">취소</button>
        <button class="btn btn-primary" id="complete-submit-btn">완료</button>
      </div>
    </div>
  </div>

  <!-- 7. 완료 퀘스트 상세 모달 -->
  <div class="modal" id="quest-detail-modal">
    <div class="modal-overlay"></div>
    <div class="modal-content modal-detail">
      <div class="modal-header">
        <h2>퀘스트 상세</h2>
        <button class="close-btn" id="detail-modal-close">&times;</button>
      </div>
      <div class="modal-body">
        <div class="detail-image" id="detail-image">
          <!-- 큰 이미지가 여기에 표시됨 -->
        </div>
        <div class="detail-info">
          <h3 class="detail-title" id="detail-title">퀘스트 제목</h3>
          <div class="detail-meta">
            <span class="detail-points" id="detail-points">100P</span>
            <span class="detail-date" id="detail-date">2026.1.21</span>
          </div>
        </div>
      </div>
      <div class="modal-footer">
        <button class="btn btn-danger" id="detail-delete-btn">삭제</button>
      </div>
    </div>
  </div>

  <!-- 모바일 디버깅 패널 (임시) -->
  <div id="debug-panel" style="position: fixed; bottom: 80px; left: 10px; right: 10px; background: rgba(0,0,0,0.8); color: #0f0; padding: 10px; border-radius: 8px; font-size: 12px; max-height: 150px; overflow-y: auto; z-index: 300; display: none; font-family: monospace;"></div>

  <script src="js/app.js"></script>
</body>
</html>
